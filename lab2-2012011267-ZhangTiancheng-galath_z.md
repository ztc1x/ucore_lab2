#Lab2实验报告
计22，张天成，2012011267
<br>

	注：本次实验中由于能能力所限，我较多地参考了参考答案代码的实现，故代码与实现思路与参考答案有较大的相似之处，特此说明。以后我会更加努力做到独立完成实验。
	
##练习1

在释放内存空间过程中，合并空闲内存块时，

1. 可以考虑从被释放的页面开始进行前向、后向的可能合并空间的查找，这有可能比从free_list的开头进行查找有更高的性能。
2. 合并空闲内存块时，只考虑了前向合并，而未考虑该被释放块的后面也存在与之相连的空闲内存块的可能性，若考虑进这一点，则可以进一步减少内存分配的碎片化。

<br>
##练习2

###练习2.1

* 页目录项（PDE）包括3部分：一个10位的索引，对应于虚拟地址的高10位，用于查找与虚拟地址对应的页目录项；和一个20位的地址，是该目录项记录的页表的起始地址；以及一些属性位，所表示的信息包括该页是否只读，权限和是否已被访问等。
* 页表项（PTE）包括3部分：一个10位的索引，对应于虚拟地址的高11~20位，用于查找与虚拟地址对应的页目录项；和一个20位的地址，是该目录项记录的页面的起始地址，页面大小为4K；以及一些属性位，所表示的信息包括该页是否只读，权限和是否已被访问等。

在ucore OS中，系统通过对二级页表的查找完成对内存地址的映射；除此之外，属性位可能用于系统安全、权限管理和页面替换机制的实现等。

###练习2.2

硬件需要完成的工作如下：

* 访问外存获得该页帧的内容。
* 将该数据读入物理内存。
* 更新页表。

<br>
##练习3

实现的过程如下：

1. 若待释放页表项存在，则获取其对应的页面。
2. 若该页面没有其他页表项进行引用（即ref = 0），则该页面不再有作用，故释放之。
3. 删除该页表项（将其指针置为空），并相应地更新页目录项。

###练习3.1

有，对应关系实质上就是ucore OS的虚拟内存与物理内存的映射关系。

###练习3.2

需要修改映射关系实现“零零映射”。